// Generated by HLC 4.2.1 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <sys/net/_Socket/SocketOutput.h>
#include <hl/natives.h>
#include <haxe/io/Error.h>
#include <haxe/io/Eof.h>
extern venum* g$haxe_io_Error_Blocked;
vdynamic* haxe_Exception_thrown(vdynamic*);
extern hl_type t$haxe_io_Eof;
void haxe_io_Eof_new(haxe__io__Eof);
#include <haxe/io/Bytes.h>
#include <haxe/io/BytesDataImpl.h>
extern venum* g$haxe_io_Error_OutsideBounds;
extern hl_type t$haxe_io_BytesDataImpl;
void haxe_io_BytesDataImpl_new(haxe__io__BytesDataImpl,vbyte*,int);

void sys_net__Socket_SocketOutput_new(sys__net___Socket__SocketOutput r0,sys__net__Socket r1) {
	r0->sock = r1;
	return;
}

void sys_net__Socket_SocketOutput_writeByte(sys__net___Socket__SocketOutput r0,int r1) {
	venum *r8;
	sys__net__Socket r4;
	hl_socket *r3;
	haxe__io__Eof r9;
	vdynamic *r7;
	int r2, r6;
	r4 = r0->sock;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->__s;
	r2 = hl_socket_send_char(r3,r1);
	r6 = 0;
	if( r2 >= r6 ) goto label$7bc7c69_2_15;
	r6 = -1;
	if( r2 != r6 ) goto label$7bc7c69_2_11;
	r8 = (venum*)g$haxe_io_Error_Blocked;
	r7 = haxe_Exception_thrown(((vdynamic*)r8));
	hl_throw((vdynamic*)r7);
	label$7bc7c69_2_11:
	r9 = (haxe__io__Eof)hl_alloc_obj(&t$haxe_io_Eof);
	haxe_io_Eof_new(r9);
	r7 = haxe_Exception_thrown(((vdynamic*)r9));
	hl_throw((vdynamic*)r7);
	label$7bc7c69_2_15:
	return;
}

int sys_net__Socket_SocketOutput_writeBytes(sys__net___Socket__SocketOutput r0,haxe__io__Bytes r1,int r2,int r3) {
	venum *r8;
	sys__net__Socket r10;
	hl_socket *r9;
	haxe__io__BytesDataImpl r11;
	haxe__io__Eof r14;
	vdynamic *r7;
	vbyte *r12;
	int r5, r6, r13;
	r6 = 0;
	if( r2 < r6 ) goto label$7bc7c69_3_8;
	r6 = 0;
	if( r3 < r6 ) goto label$7bc7c69_3_8;
	r5 = r2 + r3;
	if( r1 == NULL ) hl_null_access();
	r6 = r1->length;
	if( r6 >= r5 ) goto label$7bc7c69_3_11;
	label$7bc7c69_3_8:
	r8 = (venum*)g$haxe_io_Error_OutsideBounds;
	r7 = haxe_Exception_thrown(((vdynamic*)r8));
	hl_throw((vdynamic*)r7);
	label$7bc7c69_3_11:
	r10 = r0->sock;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->__s;
	r11 = (haxe__io__BytesDataImpl)hl_alloc_obj(&t$haxe_io_BytesDataImpl);
	r12 = r1->b;
	r5 = r1->length;
	haxe_io_BytesDataImpl_new(r11,r12,r5);
	r12 = r11->bytes;
	r5 = hl_socket_send(r9,r12,r2,r3);
	r13 = 0;
	if( r5 >= r13 ) goto label$7bc7c69_3_31;
	r13 = -1;
	if( r5 != r13 ) goto label$7bc7c69_3_27;
	r8 = (venum*)g$haxe_io_Error_Blocked;
	r7 = haxe_Exception_thrown(((vdynamic*)r8));
	hl_throw((vdynamic*)r7);
	label$7bc7c69_3_27:
	r14 = (haxe__io__Eof)hl_alloc_obj(&t$haxe_io_Eof);
	haxe_io_Eof_new(r14);
	r7 = haxe_Exception_thrown(((vdynamic*)r14));
	hl_throw((vdynamic*)r7);
	label$7bc7c69_3_31:
	return r5;
}

